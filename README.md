# نظام إدارة تراخيص YSK POS

نظام متكامل لتوليد وإدارة أكواد التفعيل لبرنامج YSK POS مع حماية قوية وربط بالأجهزة.

## المميزات الرئيسية

### 1. مولد الأكواد المتقدم
- توليد أكواد تفعيل فريدة ومشفرة
- أنواع تراخيص متعددة (تجريبي، عادي، مميز، مدى الحياة)
- تواريخ انتهاء مرنة
- حفظ تلقائي لسجل الأكواد

### 2. الحماية والأمان
- **تشفير AES-256** للبيانات الحساسة
- **Hardware ID** فريد لكل جهاز
- **توقيع رقمي** لمنع التلاعب
- **Canvas Fingerprinting** للتعرف على الجهاز

### 3. إدارة التراخيص
- التحقق من صحة الأكواد
- عرض تفاصيل الترخيص
- سجل كامل بالأكواد المولدة
- حالة التفعيل (نشط/منتهي)

## كيفية الاستخدام

### تشغيل النظام:
```bash
cd license-system
npm install
npm run dev
```

### توليد كود جدي��:
1. املأ بيانات العميل
2. اختر نوع الترخيص
3. اضغط "توليد كود التفعيل"
4. انسخ الكود وأرسله للعميل

### التحقق من الأكواد:
1. أدخل الكود في قسم التحقق
2. اضغط "تحقق"
3. ستظهر تفاصيل الترخيص أو رسالة خطأ

## كيف يعمل Hardware ID

### معلومات الجهاز المستخدمة:
- `navigator.userAgent` - معلومات المتصفح
- `navigator.platform` - نظام التشغيل
- `screen.width/height` - دقة الشاشة
- `navigator.language` - اللغة
- `timezone offset` - المنطقة الزمنية
- `hardware concurrency` - عدد المعالجات
- `device memory` - ذاكرة الجهاز
- **Canvas Fingerprint** - بصمة فريدة من الرسم

### مثال Hardware ID:
```
A1B2C3D4E5F6G7H8
```

## مستويات الحماية

### المستوى الأول: التشفير
- تشفير AES-256 لكل البيانات
- مفتاح تشفير قوي ومعقد
- تحويل آمن للأكواد

### المستوى الثاني: التوقيع الرقمي
- HMAC-SHA256 للتحقق من الأصالة
- منع التلاعب في البيانات
- كشف المحاولات المشبوهة

### المستوى الثالث: ربط الجهاز
- Hardware ID فريد لكل جهاز
- منع استخدام الكود على أجهزة أخرى
- مرونة في السماح بتغيير الجهاز

## أنواع التراخيص

| النوع | المدة | الوصف |
|-------|-------|--------|
| تجريبي | 30 يوم | للتجربة والاختبار |
| عادي | سنة واحدة | للاستخدام العادي |
| مميز | سنتين | مع ميزات إضافية |
| مدى الحياة | بدون انتهاء | ترخيص دائم |

## استكشاف الأخطاء

### "كود التفعيل غير صحيح"
- تأكد من كتابة الكود بشكل صحيح
- تحقق من وجود الكود في السجل

### "كود التفعيل منتهي الصلاحية"
- الكود تجاوز تاريخ الانتهاء
- يحتاج تجديد أو كود جديد

### "كود التفعيل مربوط بجهاز آخر"
- الكود مستخدم على جهاز مختلف
- تحقق من Hardware ID في وحدة التحكم

## الأمان في الإنتاج

### للنشر الآمن:
1. غير `masterKey` إلى مفتاح فريد
2. استخدم HTTPS دائماً
3. أخفِ الكود الحساس
4. فعل التشفير الإضافي
5. استخدم خادم منفصل للتحقق

### نصائح الحماية:
- لا تشارك مفتاح التشفير
- احتفظ بنسخة احتياطية من السجل
- راقب الاستخدام المشبوه
- حدث النظام دورياً

## الدعم الفني

للمساعدة أو الاستفسارات:
- تحقق من ملف `license-generator.js`
- راجع وحدة التحكم للأخطاء
- تأكد من تحديث المتصفح

---

**تم تطويره بواسطة YSK Systems**